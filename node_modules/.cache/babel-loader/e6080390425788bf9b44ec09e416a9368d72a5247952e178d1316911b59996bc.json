{"ast":null,"code":"var _jsxFileName = \"/Users/tato/repo/github/tatoflam/logo-generator-app/src/components/AIRefiner.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport OpenAI from 'openai';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RefinerContainer = styled.div`\n  background-color: #f5f5f5;\n  padding: 1.5rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  margin-top: 2rem;\n`;\n_c = RefinerContainer;\nconst Button = styled.button`\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  margin-top: 1rem;\n  \n  &:hover {\n    background-color: #45a049;\n  }\n  \n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n_c2 = Button;\nconst StatusMessage = styled.div`\n  margin-top: 1rem;\n  padding: 0.75rem;\n  border-radius: 4px;\n  background-color: ${props => props.type === 'error' ? '#ffebee' : '#e8f5e9'};\n  color: ${props => props.type === 'error' ? '#c62828' : '#2e7d32'};\n  display: ${props => props.message ? 'block' : 'none'};\n`;\n_c3 = StatusMessage;\nconst ApiKeyInput = styled.input`\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n`;\n_c4 = ApiKeyInput;\nconst PromptTextarea = styled.textarea`\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  min-height: 100px;\n  resize: vertical;\n  font-family: Arial, sans-serif;\n`;\n_c5 = PromptTextarea;\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: bold;\n`;\n_c6 = Label;\nfunction AIRefiner({\n  logoRef,\n  onRefinementComplete\n}) {\n  _s();\n  const [apiKey, setApiKey] = useState('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');\n  const [userPrompt, setUserPrompt] = useState('Enhance this logo by making it more professional and polished. Maintain the original style and colors but improve the overall quality and visual appeal.');\n  const [isRefining, setIsRefining] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n  const refineWithAI = async () => {\n    if (!apiKey) {\n      setMessage('Please enter your OpenAI API key');\n      setMessageType('error');\n      return;\n    }\n    try {\n      setIsRefining(true);\n      setMessage('Refining your logo with AI...');\n      setMessageType('info');\n\n      // Use html-to-image to capture the logo element\n      const logoElement = logoRef.current;\n      if (!logoElement) {\n        throw new Error('Logo element not found');\n      }\n\n      // Import html-to-image dynamically\n      const htmlToImage = await import('html-to-image');\n\n      // Capture the logo as a data URL\n      const dataUrl = await htmlToImage.toPng(logoElement);\n\n      // Convert data URL to Blob for OpenAI API\n      const fetchResponse = await fetch(dataUrl);\n      const blob = await fetchResponse.blob();\n\n      // Create a File object from the Blob\n      const imageFile = new File([blob], 'logo.png', {\n        type: 'image/png'\n      });\n\n      // Get the dimensions of the logo element\n      const width = logoElement.clientWidth;\n      const height = logoElement.clientHeight;\n\n      // Create a transparent mask image with the same dimensions\n      const canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n\n      // Fill with transparent pixels (alpha = 0)\n      ctx.fillStyle = 'rgba(0, 0, 0, 0)';\n      ctx.fillRect(0, 0, width, height);\n\n      // Add a small non-transparent area in the corner to ensure the mask is valid\n      // This is a workaround as some APIs require non-empty masks\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\n      ctx.fillRect(0, 0, 10, 10);\n\n      // Convert canvas to blob\n      const maskBlob = await new Promise(resolve => {\n        canvas.toBlob(resolve, 'image/png');\n      });\n\n      // Create a File object for the mask\n      const maskFile = new File([maskBlob], 'mask.png', {\n        type: 'image/png'\n      });\n\n      // Initialize OpenAI client\n      const openai = new OpenAI({\n        apiKey: apiKey,\n        dangerouslyAllowBrowser: true // Note: In production, you should use a backend proxy\n      });\n\n      // System prompt to guide the AI behavior\n      const systemPrompt = \"You are an expert logo designer. Edit the provided image according to the user's instructions while preserving the original style and dimensions. Focus on enhancing the existing design rather than creating something completely new.\";\n\n      // Combine system prompt with user prompt\n      const fullPrompt = `${systemPrompt}\\n\\nUser request: ${userPrompt}`;\n\n      // Determine the closest valid size for the API\n      // OpenAI API requires specific sizes, so we'll choose the closest one\n      // that can contain our image while maintaining aspect ratio\n      let apiSize;\n      if (width <= 512 && height <= 512) {\n        apiSize = \"512x512\";\n      } else {\n        apiSize = \"1024x1024\";\n      }\n      console.log('Sending request to OpenAI with:', {\n        imageSize: `${width}x${height}`,\n        apiSize,\n        promptLength: fullPrompt.length\n      });\n\n      // Call OpenAI API to edit the logo image\n      try {\n        const response = await openai.images.edit({\n          image: imageFile,\n          mask: maskFile,\n          prompt: fullPrompt,\n          n: 1,\n          size: apiSize,\n          response_format: \"url\"\n        });\n\n        // Get the refined image URL\n        const refinedImageUrl = response.data[0].url;\n\n        // Pass the refined image URL to the parent component\n        onRefinementComplete(refinedImageUrl);\n        setMessage('Logo successfully refined!');\n        setMessageType('success');\n      } catch (apiError) {\n        console.error('OpenAI API Error:', apiError);\n        let errorMessage = apiError.message || 'Failed to refine logo';\n\n        // Check for specific API errors\n        if (apiError.response) {\n          errorMessage = `API Error: ${apiError.response.status} - ${JSON.stringify(apiError.response.data)}`;\n        }\n        setMessage(`Error: ${errorMessage}`);\n        setMessageType('error');\n        throw apiError;\n      }\n    } catch (error) {\n      console.error('Error refining logo:', error);\n      setMessage(`Error: ${error.message || 'Failed to refine logo'}`);\n      setMessageType('error');\n    } finally {\n      setIsRefining(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(RefinerContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"AI Logo Refinement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Use OpenAI to enhance and refine your logo design.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      htmlFor: \"apiKey\",\n      children: \"OpenAI API Key\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ApiKeyInput, {\n      id: \"apiKey\",\n      type: \"password\",\n      placeholder: \"Enter your OpenAI API key\",\n      value: apiKey,\n      onChange: e => setApiKey(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Label, {\n      htmlFor: \"userPrompt\",\n      children: \"Refinement Instructions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PromptTextarea, {\n      id: \"userPrompt\",\n      placeholder: \"Describe how you want the AI to refine your logo...\",\n      value: userPrompt,\n      onChange: e => setUserPrompt(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: refineWithAI,\n      disabled: isRefining,\n      children: isRefining ? 'Refining...' : 'Refine with AI'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(StatusMessage, {\n      type: messageType,\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 5\n  }, this);\n}\n_s(AIRefiner, \"HUYvNME8fH9yCvN82JBWUcW5xN4=\");\n_c7 = AIRefiner;\nexport default AIRefiner;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"RefinerContainer\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"StatusMessage\");\n$RefreshReg$(_c4, \"ApiKeyInput\");\n$RefreshReg$(_c5, \"PromptTextarea\");\n$RefreshReg$(_c6, \"Label\");\n$RefreshReg$(_c7, \"AIRefiner\");","map":{"version":3,"names":["React","useState","styled","OpenAI","jsxDEV","_jsxDEV","RefinerContainer","div","_c","Button","button","_c2","StatusMessage","props","type","message","_c3","ApiKeyInput","input","_c4","PromptTextarea","textarea","_c5","Label","label","_c6","AIRefiner","logoRef","onRefinementComplete","_s","apiKey","setApiKey","userPrompt","setUserPrompt","isRefining","setIsRefining","setMessage","messageType","setMessageType","refineWithAI","logoElement","current","Error","htmlToImage","dataUrl","toPng","fetchResponse","fetch","blob","imageFile","File","width","clientWidth","height","clientHeight","canvas","document","createElement","ctx","getContext","fillStyle","fillRect","maskBlob","Promise","resolve","toBlob","maskFile","openai","dangerouslyAllowBrowser","systemPrompt","fullPrompt","apiSize","console","log","imageSize","promptLength","length","response","images","edit","image","mask","prompt","n","size","response_format","refinedImageUrl","data","url","apiError","error","errorMessage","status","JSON","stringify","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","id","placeholder","value","onChange","e","target","onClick","disabled","_c7","$RefreshReg$"],"sources":["/Users/tato/repo/github/tatoflam/logo-generator-app/src/components/AIRefiner.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport OpenAI from 'openai';\n\nconst RefinerContainer = styled.div`\n  background-color: #f5f5f5;\n  padding: 1.5rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  margin-top: 2rem;\n`;\n\nconst Button = styled.button`\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  margin-top: 1rem;\n  \n  &:hover {\n    background-color: #45a049;\n  }\n  \n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n\nconst StatusMessage = styled.div`\n  margin-top: 1rem;\n  padding: 0.75rem;\n  border-radius: 4px;\n  background-color: ${props => props.type === 'error' ? '#ffebee' : '#e8f5e9'};\n  color: ${props => props.type === 'error' ? '#c62828' : '#2e7d32'};\n  display: ${props => props.message ? 'block' : 'none'};\n`;\n\nconst ApiKeyInput = styled.input`\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n`;\n\nconst PromptTextarea = styled.textarea`\n  width: 100%;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  margin-bottom: 1rem;\n  min-height: 100px;\n  resize: vertical;\n  font-family: Arial, sans-serif;\n`;\n\nconst Label = styled.label`\n  display: block;\n  margin-bottom: 0.5rem;\n  font-weight: bold;\n`;\n\nfunction AIRefiner({ logoRef, onRefinementComplete }) {\n  const [apiKey, setApiKey] = useState('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');\n  const [userPrompt, setUserPrompt] = useState('Enhance this logo by making it more professional and polished. Maintain the original style and colors but improve the overall quality and visual appeal.');\n  const [isRefining, setIsRefining] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messageType, setMessageType] = useState('');\n\n  const refineWithAI = async () => {\n    if (!apiKey) {\n      setMessage('Please enter your OpenAI API key');\n      setMessageType('error');\n      return;\n    }\n\n    try {\n      setIsRefining(true);\n      setMessage('Refining your logo with AI...');\n      setMessageType('info');\n\n      // Use html-to-image to capture the logo element\n      const logoElement = logoRef.current;\n      if (!logoElement) {\n        throw new Error('Logo element not found');\n      }\n\n      // Import html-to-image dynamically\n      const htmlToImage = await import('html-to-image');\n      \n      // Capture the logo as a data URL\n      const dataUrl = await htmlToImage.toPng(logoElement);\n      \n      // Convert data URL to Blob for OpenAI API\n      const fetchResponse = await fetch(dataUrl);\n      const blob = await fetchResponse.blob();\n      \n      // Create a File object from the Blob\n      const imageFile = new File([blob], 'logo.png', { type: 'image/png' });\n      \n      // Get the dimensions of the logo element\n      const width = logoElement.clientWidth;\n      const height = logoElement.clientHeight;\n      \n      // Create a transparent mask image with the same dimensions\n      const canvas = document.createElement('canvas');\n      canvas.width = width;\n      canvas.height = height;\n      const ctx = canvas.getContext('2d');\n      \n      // Fill with transparent pixels (alpha = 0)\n      ctx.fillStyle = 'rgba(0, 0, 0, 0)';\n      ctx.fillRect(0, 0, width, height);\n      \n      // Add a small non-transparent area in the corner to ensure the mask is valid\n      // This is a workaround as some APIs require non-empty masks\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.1)';\n      ctx.fillRect(0, 0, 10, 10);\n      \n      // Convert canvas to blob\n      const maskBlob = await new Promise(resolve => {\n        canvas.toBlob(resolve, 'image/png');\n      });\n      \n      // Create a File object for the mask\n      const maskFile = new File([maskBlob], 'mask.png', { type: 'image/png' });\n      \n      // Initialize OpenAI client\n      const openai = new OpenAI({\n        apiKey: apiKey,\n        dangerouslyAllowBrowser: true // Note: In production, you should use a backend proxy\n      });\n\n      // System prompt to guide the AI behavior\n      const systemPrompt = \"You are an expert logo designer. Edit the provided image according to the user's instructions while preserving the original style and dimensions. Focus on enhancing the existing design rather than creating something completely new.\";\n      \n      // Combine system prompt with user prompt\n      const fullPrompt = `${systemPrompt}\\n\\nUser request: ${userPrompt}`;\n      \n      // Determine the closest valid size for the API\n      // OpenAI API requires specific sizes, so we'll choose the closest one\n      // that can contain our image while maintaining aspect ratio\n      let apiSize;\n      if (width <= 512 && height <= 512) {\n        apiSize = \"512x512\";\n      } else {\n        apiSize = \"1024x1024\";\n      }\n      \n      console.log('Sending request to OpenAI with:', {\n        imageSize: `${width}x${height}`,\n        apiSize,\n        promptLength: fullPrompt.length\n      });\n      \n      // Call OpenAI API to edit the logo image\n      try {\n        const response = await openai.images.edit({\n          image: imageFile,\n          mask: maskFile,\n          prompt: fullPrompt,\n          n: 1,\n          size: apiSize,\n          response_format: \"url\",\n        });\n        \n        // Get the refined image URL\n        const refinedImageUrl = response.data[0].url;\n        \n        // Pass the refined image URL to the parent component\n        onRefinementComplete(refinedImageUrl);\n        \n        setMessage('Logo successfully refined!');\n        setMessageType('success');\n      } catch (apiError) {\n        console.error('OpenAI API Error:', apiError);\n        let errorMessage = apiError.message || 'Failed to refine logo';\n        \n        // Check for specific API errors\n        if (apiError.response) {\n          errorMessage = `API Error: ${apiError.response.status} - ${JSON.stringify(apiError.response.data)}`;\n        }\n        \n        setMessage(`Error: ${errorMessage}`);\n        setMessageType('error');\n        throw apiError;\n      }\n\n    } catch (error) {\n      console.error('Error refining logo:', error);\n      setMessage(`Error: ${error.message || 'Failed to refine logo'}`);\n      setMessageType('error');\n    } finally {\n      setIsRefining(false);\n    }\n  };\n\n  return (\n    <RefinerContainer>\n      <h2>AI Logo Refinement</h2>\n      <p>Use OpenAI to enhance and refine your logo design.</p>\n      \n      <Label htmlFor=\"apiKey\">OpenAI API Key</Label>\n      <ApiKeyInput\n        id=\"apiKey\"\n        type=\"password\"\n        placeholder=\"Enter your OpenAI API key\"\n        value={apiKey}\n        onChange={(e) => setApiKey(e.target.value)}\n      />\n      \n      <Label htmlFor=\"userPrompt\">Refinement Instructions</Label>\n      <PromptTextarea\n        id=\"userPrompt\"\n        placeholder=\"Describe how you want the AI to refine your logo...\"\n        value={userPrompt}\n        onChange={(e) => setUserPrompt(e.target.value)}\n      />\n      \n      <Button \n        onClick={refineWithAI} \n        disabled={isRefining}\n      >\n        {isRefining ? 'Refining...' : 'Refine with AI'}\n      </Button>\n      \n      {message && (\n        <StatusMessage type={messageType}>\n          {message}\n        </StatusMessage>\n      )}\n    </RefinerContainer>\n  );\n}\n\nexport default AIRefiner;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}