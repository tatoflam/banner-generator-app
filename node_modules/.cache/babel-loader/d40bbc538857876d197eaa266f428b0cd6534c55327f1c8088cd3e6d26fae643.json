{"ast":null,"code":"var _jsxFileName = \"/Users/tato/repo/github/tatoflam/logo-generator-app/src/components/LogoPreview.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react';\nimport styled from 'styled-components';\nimport { toPng } from 'html-to-image';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PreviewContainer = styled.div`\n  background-color: #f5f5f5;\n  padding: 1.5rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n_c = PreviewContainer;\nconst PreviewArea = styled.div`\n  width: 100%;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${props => props.backgroundColor};\n  background-image: ${props => props.backgroundImage ? `url(${props.backgroundImage})` : 'none'};\n  background-size: cover;\n  background-position: center;\n  margin-bottom: 1.5rem;\n  border: 1px solid #ddd;\n  position: relative;\n  overflow: hidden;\n`;\n_c2 = PreviewArea;\nconst LogoText = styled.div`\n  font-family: ${props => props.fontFamily};\n  font-size: ${props => props.fontSize}px;\n  color: ${props => props.fontColor};\n  text-align: center;\n  transform: scale(${props => (props.logoScale || 100) / 100}) \n             translate(${props => props.logoOffsetX || 0}%, ${props => props.logoOffsetY || 0}%);\n  \n  ${props => {\n  if (props.shape === 'circle') {\n    return `\n        background-color: ${props.shapeColor};\n        border-radius: 50%;\n        width: ${props.shapeSize || 80}%;\n        height: ${props.shapeSize || 80}%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      `;\n  } else if (props.shape === 'square') {\n    return `\n        background-color: ${props.shapeColor};\n        width: ${props.shapeSize || 80}%;\n        height: ${props.shapeSize || 80}%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      `;\n  } else if (props.shape === 'rectangle') {\n    return `\n        background-color: ${props.shapeColor};\n        width: ${props.shapeSize || 80}%;\n        height: ${Math.floor((props.shapeSize || 80) * 0.6)}%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      `;\n  }\n  return '';\n}}\n`;\n_c3 = LogoText;\nconst DownloadButton = styled.button`\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  margin-right: 0.5rem;\n  \n  &:hover {\n    background-color: #45a049;\n  }\n  \n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n_c4 = DownloadButton;\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n_c5 = ButtonContainer;\nconst RefinedImage = styled.img`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n`;\n_c6 = RefinedImage;\nfunction LogoPreview({\n  settings,\n  onRefinementComplete\n}) {\n  _s();\n  const logoRef = useRef(null);\n  const previewRef = useRef(null);\n  const handleDownload = async () => {\n    if (!previewRef.current) return;\n    try {\n      // Use html-to-image to convert the DOM node to a PNG\n      const dataUrl = await toPng(previewRef.current, {\n        quality: 0.95\n      });\n\n      // Create a link element and trigger download\n      const link = document.createElement('a');\n      link.download = `logo-${new Date().getTime()}.png`;\n      link.href = dataUrl;\n      link.click();\n    } catch (error) {\n      console.error('Error downloading image:', error);\n      alert('Failed to download image. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(PreviewContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Logo Preview\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PreviewArea, {\n      ref: previewRef,\n      backgroundColor: settings.backgroundColor,\n      backgroundImage: settings.backgroundImage,\n      children: settings.refinedImageUrl ? /*#__PURE__*/_jsxDEV(RefinedImage, {\n        src: settings.refinedImageUrl,\n        alt: \"Refined Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(LogoText, {\n        ref: logoRef,\n        fontFamily: settings.fontFamily,\n        fontSize: settings.fontSize,\n        fontColor: settings.fontColor,\n        shape: settings.shape,\n        shapeColor: settings.shapeColor,\n        shapeSize: settings.shapeSize,\n        logoScale: settings.logoScale,\n        logoOffsetX: settings.logoOffsetX,\n        logoOffsetY: settings.logoOffsetY,\n        children: settings.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n      children: /*#__PURE__*/_jsxDEV(DownloadButton, {\n        onClick: handleDownload,\n        children: \"Download Logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n_s(LogoPreview, \"kUkDT2viOEjnI2znh28X1IpDaWI=\");\n_c7 = LogoPreview;\nexport default LogoPreview;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"PreviewContainer\");\n$RefreshReg$(_c2, \"PreviewArea\");\n$RefreshReg$(_c3, \"LogoText\");\n$RefreshReg$(_c4, \"DownloadButton\");\n$RefreshReg$(_c5, \"ButtonContainer\");\n$RefreshReg$(_c6, \"RefinedImage\");\n$RefreshReg$(_c7, \"LogoPreview\");","map":{"version":3,"names":["React","useRef","styled","toPng","jsxDEV","_jsxDEV","PreviewContainer","div","_c","PreviewArea","props","backgroundColor","backgroundImage","_c2","LogoText","fontFamily","fontSize","fontColor","logoScale","logoOffsetX","logoOffsetY","shape","shapeColor","shapeSize","Math","floor","_c3","DownloadButton","button","_c4","ButtonContainer","_c5","RefinedImage","img","_c6","LogoPreview","settings","onRefinementComplete","_s","logoRef","previewRef","handleDownload","current","dataUrl","quality","link","document","createElement","download","Date","getTime","href","click","error","console","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","refinedImageUrl","src","alt","text","onClick","_c7","$RefreshReg$"],"sources":["/Users/tato/repo/github/tatoflam/logo-generator-app/src/components/LogoPreview.js"],"sourcesContent":["import React, { useRef } from 'react';\nimport styled from 'styled-components';\nimport { toPng } from 'html-to-image';\n\nconst PreviewContainer = styled.div`\n  background-color: #f5f5f5;\n  padding: 1.5rem;\n  border-radius: 8px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst PreviewArea = styled.div`\n  width: 100%;\n  aspect-ratio: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: ${props => props.backgroundColor};\n  background-image: ${props => props.backgroundImage ? `url(${props.backgroundImage})` : 'none'};\n  background-size: cover;\n  background-position: center;\n  margin-bottom: 1.5rem;\n  border: 1px solid #ddd;\n  position: relative;\n  overflow: hidden;\n`;\n\nconst LogoText = styled.div`\n  font-family: ${props => props.fontFamily};\n  font-size: ${props => props.fontSize}px;\n  color: ${props => props.fontColor};\n  text-align: center;\n  transform: scale(${props => (props.logoScale || 100) / 100}) \n             translate(${props => props.logoOffsetX || 0}%, ${props => props.logoOffsetY || 0}%);\n  \n  ${props => {\n    if (props.shape === 'circle') {\n      return `\n        background-color: ${props.shapeColor};\n        border-radius: 50%;\n        width: ${props.shapeSize || 80}%;\n        height: ${props.shapeSize || 80}%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      `;\n    } else if (props.shape === 'square') {\n      return `\n        background-color: ${props.shapeColor};\n        width: ${props.shapeSize || 80}%;\n        height: ${props.shapeSize || 80}%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      `;\n    } else if (props.shape === 'rectangle') {\n      return `\n        background-color: ${props.shapeColor};\n        width: ${props.shapeSize || 80}%;\n        height: ${Math.floor((props.shapeSize || 80) * 0.6)}%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      `;\n    }\n    return '';\n  }}\n`;\n\nconst DownloadButton = styled.button`\n  background-color: #4CAF50;\n  color: white;\n  border: none;\n  padding: 0.75rem 1.5rem;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 1rem;\n  margin-right: 0.5rem;\n  \n  &:hover {\n    background-color: #45a049;\n  }\n  \n  &:disabled {\n    background-color: #cccccc;\n    cursor: not-allowed;\n  }\n`;\n\nconst ButtonContainer = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-top: 1rem;\n`;\n\nconst RefinedImage = styled.img`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n`;\n\nfunction LogoPreview({ settings, onRefinementComplete }) {\n  const logoRef = useRef(null);\n  const previewRef = useRef(null);\n  \n  const handleDownload = async () => {\n    if (!previewRef.current) return;\n    \n    try {\n      // Use html-to-image to convert the DOM node to a PNG\n      const dataUrl = await toPng(previewRef.current, { quality: 0.95 });\n      \n      // Create a link element and trigger download\n      const link = document.createElement('a');\n      link.download = `logo-${new Date().getTime()}.png`;\n      link.href = dataUrl;\n      link.click();\n    } catch (error) {\n      console.error('Error downloading image:', error);\n      alert('Failed to download image. Please try again.');\n    }\n  };\n\n  return (\n    <PreviewContainer>\n      <h2>Logo Preview</h2>\n      <PreviewArea \n        ref={previewRef}\n        backgroundColor={settings.backgroundColor}\n        backgroundImage={settings.backgroundImage}\n      >\n        {settings.refinedImageUrl ? (\n          <RefinedImage src={settings.refinedImageUrl} alt=\"Refined Logo\" />\n        ) : (\n          <LogoText\n            ref={logoRef}\n            fontFamily={settings.fontFamily}\n            fontSize={settings.fontSize}\n            fontColor={settings.fontColor}\n            shape={settings.shape}\n            shapeColor={settings.shapeColor}\n            shapeSize={settings.shapeSize}\n            logoScale={settings.logoScale}\n            logoOffsetX={settings.logoOffsetX}\n            logoOffsetY={settings.logoOffsetY}\n          >\n            {settings.text}\n          </LogoText>\n        )}\n      </PreviewArea>\n      \n      <ButtonContainer>\n        <DownloadButton onClick={handleDownload}>\n          Download Logo\n        </DownloadButton>\n      </ButtonContainer>\n    </PreviewContainer>\n  );\n}\n\nexport default LogoPreview;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}